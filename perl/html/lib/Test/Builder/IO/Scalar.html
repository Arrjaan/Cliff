<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../../../../displayToc.js"></script>
<script language="JavaScript" src="../../../../tocParas.js"></script>
<script language="JavaScript" src="../../../../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../../../../scineplex.css">
<title>Test::Builder::IO::Scalar - A copy of IO::Scalar for Test::Builder</title>
<link rel="stylesheet" href="../../../../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:" />
</head>

<body>


<!-- INDEX BEGIN -->
<div name="index">
<script>writelinks('__top__',4);</script>
<h1><a>Test::Builder::IO::Scalar - A copy of IO::Scalar for Test::Builder</a></h1>
<p><a name="__index__"></a></p>


<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#copyright_and_license">COPYRIGHT and LICENSE</a></li>
	<ul>

		<li><a href="#construction">Construction</a></li>
		<li><a href="#input_and_output">Input and output</a></li>
		<li><a href="#seeking_telling_and_other_attributes">Seeking/telling and other attributes</a></li>
	</ul>

	<li><a href="#warnings">WARNINGS</a></li>
	<li><a href="#version">VERSION</a></li>
	<li><a href="#authors">AUTHORS</a></li>
	<ul>

		<li><a href="#primary_maintainer">Primary Maintainer</a></li>
		<li><a href="#principal_author">Principal author</a></li>
		<li><a href="#other_contributors">Other contributors</a></li>
	</ul>

	<li><a href="#see_also">SEE ALSO</a></li>
</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>Test::Builder::IO::Scalar - A copy of IO::Scalar for Test::Builder</p>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>This is a copy of IO::Scalar which ships with Test::Builder to
support scalar references as filehandles on Perl 5.6.  Newer
versions of Perl simply use <a href="../../../../lib/pods/perlfunc.html#open"><code>&lt;open()</code></a>&gt;'s built in support.</p>
<p>Test::Builder can not have dependencies on other modules without
careful consideration, so its simply been copied into the distribution.</p>
<p>
</p>
<hr />
<h1><a name="copyright_and_license">COPYRIGHT and LICENSE</a></h1>
<p>This file came from the &quot;IO-stringy&quot; Perl5 toolkit.</p>
<p>Copyright (c) 1996 by Eryq.  All rights reserved.
Copyright (c) 1999,2001 by ZeeGee Software Inc.  All rights reserved.</p>
<p>This program is free software; you can redistribute it and/or
modify it under the same terms as Perl itself.</p>
<p>
</p>
<h2><a name="construction">Construction</a></h2>
<dl>
<dt><strong><a name="new_args" class="item">new [ARGS...]</a></strong></dt>

<dd>
<p><em>Class method.</em>
Return a new, unattached scalar handle.
If any arguments are given, they're sent to <a href="../../../../lib/pods/perlfunc.html#open"><code>open()</code></a>.</p>
</dd>
<dt><strong><a name="open_scalarref" class="item">open [SCALARREF]</a></strong></dt>

<dd>
<p><em>Instance method.</em>
Open the scalar handle on a new scalar, pointed to by SCALARREF.
If no SCALARREF is given, a &quot;private&quot; scalar is created to hold
the file data.</p>
<p>Returns the self object on success, undefined on error.</p>
</dd>
<dt><strong><a name="opened" class="item">opened</a></strong></dt>

<dd>
<p><em>Instance method.</em>
Is the scalar handle opened on something?</p>
</dd>
<dt><strong><a name="close" class="item">close</a></strong></dt>

<dd>
<p><em>Instance method.</em>
Disassociate the scalar handle from its underlying scalar.
Done automatically on destroy.</p>
</dd>
</dl>
<p>
</p>
<h2><a name="input_and_output">Input and output</a></h2>
<dl>
<dt><strong><a name="flush" class="item">flush</a></strong></dt>

<dd>
<p><em>Instance method.</em>
No-op, provided for OO compatibility.</p>
</dd>
<dt><strong><a name="getc" class="item">getc</a></strong></dt>

<dd>
<p><em>Instance method.</em>
Return the next character, or undef if none remain.</p>
</dd>
<dt><strong><a name="getline" class="item">getline</a></strong></dt>

<dd>
<p><em>Instance method.</em>
Return the next line, or undef on end of string.
Can safely be called in an array context.
Currently, lines are delimited by &quot;\n&quot;.</p>
</dd>
<dt><strong><a name="getlines" class="item">getlines</a></strong></dt>

<dd>
<p><em>Instance method.</em>
Get all remaining lines.
It will <code>croak()</code> if accidentally called in a scalar context.</p>
</dd>
<dt><strong><a name="print_args" class="item">print ARGS...</a></strong></dt>

<dd>
<p><em>Instance method.</em>
Print ARGS to the underlying scalar.</p>
<p><strong>Warning:</strong> this continues to always cause a seek to the end
of the string, but if you perform seek()s and tell()s, it is
still safer to explicitly seek-to-end before subsequent print()s.</p>
</dd>
<dt><strong><a name="read_buf_nbytes_offset" class="item">read BUF, NBYTES, [OFFSET]</a></strong></dt>

<dd>
<p><em>Instance method.</em>
Read some bytes from the scalar.
Returns the number of bytes actually read, 0 on end-of-file, undef on error.</p>
</dd>
<dt><strong><a name="write_buf_nbytes_offset" class="item">write BUF, NBYTES, [OFFSET]</a></strong></dt>

<dd>
<p><em>Instance method.</em>
Write some bytes to the scalar.</p>
</dd>
<dt><strong><a name="sysread_buf_len_offset" class="item">sysread BUF, LEN, [OFFSET]</a></strong></dt>

<dd>
<p><em>Instance method.</em>
Read some bytes from the scalar.
Returns the number of bytes actually read, 0 on end-of-file, undef on error.</p>
</dd>
<dt><strong><a name="syswrite_buf_nbytes_offset" class="item">syswrite BUF, NBYTES, [OFFSET]</a></strong></dt>

<dd>
<p><em>Instance method.</em>
Write some bytes to the scalar.</p>
</dd>
</dl>
<p>
</p>
<h2><a name="seeking_telling_and_other_attributes">Seeking/telling and other attributes</a></h2>
<dl>
<dt><strong><a name="autoflush" class="item">autoflush</a></strong></dt>

<dd>
<p><em>Instance method.</em>
No-op, provided for OO compatibility.</p>
</dd>
<dt><strong><a name="binmode" class="item">binmode</a></strong></dt>

<dd>
<p><em>Instance method.</em>
No-op, provided for OO compatibility.</p>
</dd>
<dt><strong><a name="clearerr" class="item">clearerr</a></strong></dt>

<dd>
<p><em>Instance method.</em>  Clear the error and EOF flags.  A no-op.</p>
</dd>
<dt><strong><a name="eof" class="item">eof</a></strong></dt>

<dd>
<p><em>Instance method.</em>  Are we at end of file?</p>
</dd>
<dt><strong><a name="seek" class="item">seek OFFSET, WHENCE</a></strong></dt>

<dd>
<p><em>Instance method.</em>  Seek to a given position in the stream.</p>
</dd>
<dt><strong><a name="sysseek" class="item">sysseek OFFSET, WHENCE</a></strong></dt>

<dd>
<p><em>Instance method.</em> Identical to <a href="#seek"><code>seek OFFSET, WHENCE</code></a>, <em>q.v.</em></p>
</dd>
<dt><strong><a name="tell" class="item">tell</a></strong></dt>

<dd>
<p><em>Instance method.</em>
Return the current position in the stream, as a numeric offset.</p>
</dd>
<dt><strong><a name="use_rs_yesno" class="item">use_RS [YESNO]</a></strong></dt>

<dd>
<p><em>Instance method.</em>
<strong>Deprecated and ignored.</strong>
Obey the current setting of $/, like IO::Handle does?
Default is false in 1.x, but cold-welded true in 2.x and later.</p>
</dd>
<dt><strong><a name="setpos" class="item">setpos POS</a></strong></dt>

<dd>
<p><em>Instance method.</em>
Set the current position, using the opaque value returned by <a href="#getpos"><code>getpos()</code></a>.</p>
</dd>
<dt><strong><a name="getpos" class="item">getpos</a></strong></dt>

<dd>
<p><em>Instance method.</em>
Return the current position in the string, as an opaque object.</p>
</dd>
<dt><strong><a name="sref" class="item">sref</a></strong></dt>

<dd>
<p><em>Instance method.</em>
Return a reference to the underlying scalar.</p>
</dd>
</dl>
<p>
</p>
<hr />
<h1><a name="warnings">WARNINGS</a></h1>
<p>Perl's TIEHANDLE spec was incomplete prior to 5.005_57;
it was missing support for <a href="#seek"><code>seek()</code></a>, <a href="#tell"><code>tell()</code></a>, and <a href="#eof"><code>eof()</code></a>.
Attempting to use these functions with an IO::Scalar will not work
prior to 5.005_57. IO::Scalar will not have the relevant methods
invoked; and even worse, this kind of bug can lie dormant for a while.
If you turn warnings on (via <a href="../../../../lib/pods/perlvar.html#__w"><code>$^W</code></a> or <code>perl -w</code>),
and you see something like this...</p>
<pre>
    attempt to seek on unopened filehandle</pre>
<p>...then you are probably trying to use one of these functions
on an IO::Scalar with an old Perl.  The remedy is to simply
use the OO version; e.g.:</p>
<pre>
    <span class="variable">$SH</span><span class="operator">-&gt;</span><span class="variable">seek</span><span class="operator">(</span><span class="number">0</span><span class="operator">,</span><span class="number">0</span><span class="operator">);</span>    <span class="comment">### GOOD: will work on any 5.005</span>
    <span class="keyword">seek</span><span class="operator">(</span><span class="variable">$SH</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="number">0</span><span class="operator">);</span>     <span class="comment">### WARNING: will only work on 5.005_57 and beyond</span>
</pre>
<p>
</p>
<hr />
<h1><a name="version">VERSION</a></h1>
<p>$Id: Scalar.pm,v 1.6 2005/02/10 21:21:53 dfs Exp $</p>
<p>
</p>
<hr />
<h1><a name="authors">AUTHORS</a></h1>
<p>
</p>
<h2><a name="primary_maintainer">Primary Maintainer</a></h2>
<p>David F. Skoll (<em class="file"><a href="mailto:dfs@roaringpenguin.com">dfs@roaringpenguin.com</a></em>).</p>
<p>
</p>
<h2><a name="principal_author">Principal author</a></h2>
<p>Eryq (<em class="file"><a href="mailto:eryq@zeegee.com">eryq@zeegee.com</a></em>).
President, ZeeGee Software Inc (<em class="file"><a href="http://www.zeegee.com">http://www.zeegee.com</a></em>).</p>
<p>
</p>
<h2><a name="other_contributors">Other contributors</a></h2>
<p>The full set of contributors always includes the folks mentioned
in <a href="../../../../IO/Stringy.html#change_log">CHANGE LOG in the IO::Stringy manpage</a>.  But just the same, special
thanks to the following individuals for their invaluable contributions
(if I've forgotten or misspelled your name, please email me!):</p>
<p><em>Andy Glew,</em>
for contributing <a href="#getc"><code>getc()</code></a>.</p>
<p><em>Brandon Browning,</em>
for suggesting <a href="#opened"><code>opened()</code></a>.</p>
<p><em>David Richter,</em>
for finding and fixing the bug in <code>PRINTF()</code>.</p>
<p><em>Eric L. Brine,</em>
for his offset-using <a href="../../../../lib/pods/perlfunc.html#read"><code>read()</code></a> and <a href="../../../../lib/pods/perlfunc.html#write"><code>write()</code></a> implementations.</p>
<p><em>Richard Jones,</em>
for his patches to massively improve the performance of <a href="#getline"><code>getline()</code></a>
and add <a href="../../../../lib/pods/perlfunc.html#sysread"><code>sysread</code></a> and <a href="../../../../lib/pods/perlfunc.html#syswrite"><code>syswrite</code></a>.</p>
<p><em>B. K. Oxley (binkley),</em>
for stringification and inheritance improvements,
and sundry good ideas.</p>
<p><em>Doug Wilson,</em>
for the IO::Handle inheritance and automatic tie-ing.</p>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p><a href="../../../../lib/IO/String.html">the IO::String manpage</a>, which is quite similar but which was designed
more-recently and with an IO::Handle-like interface in mind,
so you could mix OO- and native-filehandle usage without using <a href="../../../../lib/pods/perlfunc.html#tied"><code>tied()</code></a>.</p>
<p><em>Note:</em> as of version 2.x, these classes all work like
their IO::Handle counterparts, so we have comparable
functionality to IO::String.</p>

</body>

</html>
